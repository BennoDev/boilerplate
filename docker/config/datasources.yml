apiVersion: 1

datasources:
    - name: Loki
      uid: loki
      type: loki
      url: http://loki:3100
      jsonData:
          derivedFields:
              - name: trace_id
                matcherRegex: trace_id
                matcherType: label
                datasourceUid: tempo
                url: $${__value.raw}
                urlDisplayLabel: View Trace
    - name: Prometheus
      uid: prometheus
      type: prometheus
      url: http://prometheus:9090
    - name: Tempo
      uid: tempo
      type: tempo
      url: http://tempo:3200
      jsonData:
          tracesToLogsV2:
              datasourceUid: loki
